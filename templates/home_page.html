<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Sleeper Depth Chart</title>
    </head>

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- div for an input box and button that allows the user to submit an ID -->
    <div>
        <h1>Enter League ID</h1>
        <form method="post">
            <label for="id">ID</label>
            <br>
            <input type="text" name="id"
                placeholder="League ID"
                value="{{ request.form['id'] }}"></input>
            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- div for a table that displays the owner_id and all positions from the rosters object-->
    {% if rosters %}
    <div class="container">

        <!-- div for a heading that displays the given ID -->
        {% if league_name %}
        <div>
            <h1>{{ league_name }}</h1>
        </div>
        {% endif %}

        <table class="table">
            <tr>
                <th>Owner ID</th>
                <th>QBs</th>
                <th>RBs</th>
                <th>WRs</th>
                <th>TEs</th>
                <th>Ks</th>
                <th>DEFs</th>
            </tr>
            {% for roster in rosters %}
            <tr>
                <td>{{ roster.owner_id }}</td>
                <td>
                    {% for qb in roster.player_objects|selectattr('position', 'equalto', 'QB') %}
                        {% if qb['player_id'] in roster.starters %}
                            <b>{{ qb['full_name'] }}</b><br>
                        {% else %}
                            {{ qb['full_name'] }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    {% for rb in roster.player_objects|selectattr('position', 'equalto', 'RB') %}
                        {% if rb['player_id'] in roster.starters %}
                            <b>{{ rb['full_name'] }}</b><br>
                        {% else %}
                            {{ rb['full_name'] }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    {% for wr in roster.player_objects|selectattr('position', 'equalto', 'WR') %}
                        {% if wr['player_id'] in roster.starters %}
                            <b>{{ wr['full_name'] }}</b><br>
                        {% else %}
                            {{ wr['full_name'] }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    {% for te in roster.player_objects|selectattr('position', 'equalto', 'TE') %}
                        {% if te['player_id'] in roster.starters %}
                            <b>{{ te['full_name'] }}</b><br>
                        {% else %}
                            {{ te['full_name'] }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    {% for k in roster.ks %}
                        {% set k_name = players[k]['full_name'] %}
                        {% if k in roster.starters %}
                            <b>{{ k_name }}</b><br>
                        {% else %}
                            {{ k_name }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    {% for def in roster.defs %}
                        {% if def in roster.starters %}
                            <b>{{ def }}</b><br>
                        {% else %}
                            {{ def }}<br>
                        {% endif %}
                    {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endif %}

</html>